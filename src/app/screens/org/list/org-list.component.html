<div id="layout-wrapper">
    <sidebar #navbar (toggleNavBar$)="toggleNavBar($event);"></sidebar>
    <div class="page-content" [ngStyle]="{ 'padding-left': ( sideBarVisible ? '250px' : '0px' )}">
        <div class="container-fluid">
            <header id="page-topbar">
                <topbar (requestNavBarToggle$)="reqeustNavBarToggle($event);"></topbar>
            </header>
            <main class="content" style="padding-top:0px !important;padding-left:0px;padding-right:0px;">
                <ngx-spinner bdColor="rgba(0,0,0,0.3)" size="medium" color="#fff" type="square-jelly-box"
                    [fullScreen]="true"
                    template="<b><img src=http://rechorderp.com/app/images/loader_cupom.gif height=100px width=100px></b>">
                    <p style="color: white"> Loading... </p>
                </ngx-spinner>
                <div class="container-fluid p-0">
                    <div class="card mb-2">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-md-4">
                                    <h3 class="text-primary">
                                        <img width="40" height="40"
                                            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-wM_GK6aQctmMghHJjd1rMjuVrx5W7vvYKBwlGOoh9-4NVJAOL1FLxpFvQW61tZiMCzw&usqp=CAU">
                                        &nbsp;Organization
                                    </h3>
                                </div>
                                <div class="col-md-5">

                                </div>
                                <div class="col-md-3">
                                    <div style="margin-right: 0.5rem; float: right;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">

                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body table-card">
                            <table class="table table-striped table-responsive no-footer" id="MainTable" role="grid"
                                style="display:table;">
                                <thead class="custom-thead">
                                    <tr class="custom-tr">
                                        <th class="custom-th">
                                            Action
                                        </th>
                                        <th *ngFor="let o of organizationListHeaders">
                                            {{o.Name}}
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="organizationList.length == 0">
                                        <td style="text-align: center;" colspan="100%">Table has no records.</td>
                                    </tr>
                                    <tr *ngFor="let o of organizationList; index as indexOfelement">
                                        <td>
                                            <i style="margin-right:5pt;font-size:small" class='fas fa-edit' (click)="goToEdit(o.Id)"></i>
                                        </td>
                                        <td>
                                            <span>
                                                {{o.Name}}
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div *ngIf="modalVisible">
                        <div class="modal backdrop" id="popup" role="dialog" style="display: block !important;">
                            <div class="modal-dialog" style="max-width: 500px;">
                                <div class="modal-content" style="max-height:70vh;min-height:40vh;">
                                    <div class="card-header bg-info">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <h2 *ngIf="modelId == 0">{{action}}</h2>
                                                <h2 *ngIf="modelId != 0">{{action}}: {{entityData.Organization.Id}}</h2>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="btn-group" style="float:right;">
                                                    <button class="btn btn-secondary"
                                                        (click)="modalVisible = false;">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-body subtab-modal-body">
                                        <div class="row">
                                            <div [ngClass]="{'ahashakeheartache': warnClass}">
                                                <div class="col-md-12">
                                                    <div [ngClass]="{'ahashakeheartache': warnClass}">
                                                        <div class="col-md-12">
                                                            <div class="alert alert-danger alert-dismissible"
                                                                *ngIf="modalMessage">
                                                                <button type="button" class="btn-close"
                                                                    (click)="dismissAlert()"
                                                                    aria-label="Close"></button>
                                                                <div class="alert-message">
                                                                    {{modalMessage}}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="form-horizontal">
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-lg-12 text-lable">
                                                            <label class="required input-label">Name</label><br />
                                                            <input type="text" class="form-control" [(ngModel)]="entityData.Organization.Name">
                                                        </div><br />
                                                        <div class="col-lg-12 text-lable">
                                                            <bR><label class="required input-label">Description</label><br />
                                                            <textarea type="text" class="form-control" [(ngModel)]="entityData.Organization.Description"></textarea>
                                                        </div><br />
                                                        <div class="col-lg-12 text-lable">
                                                            <bR><label class="required input-label">Image Url</label><br />
                                                            <input type="text" class="form-control" [(ngModel)]="entityData.Organization.Url">
                                                        </div><br />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-primary" type="button" *ngIf="modelId == 0"
                                            (click)="add()">{{action}}</button>
                                        <button class="btn btn-primary" type="button" *ngIf="modelId != 0"
                                            (click)="edit()">{{action}}</button>
                                        <button class="btn btn-secondary" type="button"
                                            (click)="modalVisible = false">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>